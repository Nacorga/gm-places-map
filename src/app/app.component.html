<ng-container *ngIf="!loading; else loadingTpl">
  <div class="app" *ngIf="scriptLoaded; else setGmApiKeyTpl">
    <div class="app__section places">
      <app-places-view></app-places-view>
    </div>
    <div class="app__section map">
      <app-map-view></app-map-view>
    </div>
  </div>
</ng-container>

<ng-template #loadingTpl>
  <div class="loading">
    <mat-spinner></mat-spinner>
  </div>
</ng-template>

<ng-template #setGmApiKeyTpl>
  <app-input-view (submit)="handleApiKey($event)"></app-input-view>
</ng-template>
